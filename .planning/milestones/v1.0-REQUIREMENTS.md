# Requirements Archive: v1.0 Command Center

**Archived:** 2026-02-28
**Status:** SHIPPED

For current requirements, see `.planning/REQUIREMENTS.md`.

---

# Requirements: DEC DASH 2.0

**Defined:** 2026-02-28
**Core Value:** When Kareem opens this app each morning, he immediately sees the financial picture, client activity, upcoming deadlines, and what needs his attention — without switching tools or digging through data.

## v1 Requirements

Requirements for this milestone. Each maps to roadmap phases.

### Dashboard Data Fix

- [x] **DASH-01**: All KPI cards render live data from QuickBooks cache (cash on hand, revenue YTD, total expenses)
- [x] **DASH-02**: All chart visualizations (P&L doughnut, expense breakdown, grant budget bars) render with real data
- [x] **DASH-03**: Dashboard handles 3-state loading correctly: skeleton while loading, "not connected" when integration missing, actual data when available
- [x] **DASH-04**: Grant tracking overview section displays active grants with status and deadlines
- [x] **DASH-05**: Program demographics charts (co-parent + legal) render from Sheets-synced data

### Dashboard Command Center

- [x] **CMD-01**: Financial snapshot section shows cash position, revenue YTD, and expense summary at a glance
- [x] **CMD-02**: Client activity section shows total active clients, new clients this month, and per-program counts
- [x] **CMD-03**: "What Needs Attention" panel surfaces actionable items (grant deadlines, budget warnings, sync failures)
- [x] **CMD-04**: Dashboard sections load independently so one failed integration doesn't break the entire page

### Newsletter Template Fix

- [x] **NEWS-01**: Newsletter HTML uses table-based layout for cross-client compatibility (Gmail, Outlook, Apple Mail)
- [x] **NEWS-02**: All CSS is inlined — no external stylesheets, no unsupported properties (box-shadow removed)
- [x] **NEWS-03**: Newsletter editor validates content size and warns when approaching 400KB Constant Contact limit
- [x] **NEWS-04**: Newsletter preview accurately reflects how email will render in major email clients

### Google Calendar Integration

- [x] **CAL-01**: Google Calendar events sync to Convex cache table via service account auth (reusing existing Sheets credentials)
- [x] **CAL-02**: Calendar sync runs on a cron schedule (configurable, default 30 min)
- [x] **CAL-03**: Admin can configure which Google Calendar IDs to sync from the Admin console
- [x] **CAL-04**: Dashboard widget shows today's events and upcoming events (next 7 days)
- [x] **CAL-05**: Calendar events display event title, time, and calendar source

### Proactive Alerts

- [x] **ALRT-01**: Grant deadline alerts surface upcoming quarterly reports due within 30 days
- [x] **ALRT-02**: Budget variance alerts trigger when grant spending exceeds pacing threshold
- [x] **ALRT-03**: Sync status alerts show when QuickBooks or Google Sheets sync has failed or data is stale (>1 hour for QB, >2 hours for Sheets)
- [x] **ALRT-04**: Alerts display in the "What Needs Attention" panel on the dashboard

## v2 Requirements

Deferred to future milestone. Tracked but not in current roadmap.

### Dashboard Enhancements

- **DASH-V2-01**: Trend indicators on KPI cards (up/down arrows with percentage change)
- **DASH-V2-02**: Donation performance trend charts

### Calendar Enhancements

- **CAL-V2-01**: Color-coded event types (client sessions, board meetings, community events, grant deadlines)
- **CAL-V2-02**: Countdown badges for imminent events
- **CAL-V2-03**: Calendar event reminders/notifications

### Alert Enhancements

- **ALRT-V2-01**: Configurable alert thresholds per alert type
- **ALRT-V2-02**: Alert dismissal/acknowledgement with persistence across sessions
- **ALRT-V2-03**: In-app toast notifications for new alerts (sonner)

### Newsletter Enhancements

- **NEWS-V2-01**: Mobile-responsive email template with media queries where supported

## Out of Scope

| Feature | Reason |
|---------|--------|
| Two-way Google Calendar editing | Creates sync conflicts; read-only with link-out to Google is sufficient |
| Gmail integration | Email stays in Gmail — surfacing it adds complexity without proportional value |
| Google Drive integration | Documents stay in Drive — not a core command center need |
| Social media integration | Not needed for daily operational command center |
| Mobile native app | Web-first with responsive design is sufficient |
| Real-time push notifications (browser/mobile) | In-app alerts panel sufficient for v1; push notifications are v2+ |
| Google Calendar webhooks | Cron-based polling is simpler and sufficient for event data that changes infrequently |

## Traceability

Which phases cover which requirements. Updated during roadmap creation.

| Requirement | Phase | Status |
|-------------|-------|--------|
| DASH-01 | Phase 2 | Complete |
| DASH-02 | Phase 2 | Complete |
| DASH-03 | Phase 2 | Complete |
| DASH-04 | Phase 2 | Complete |
| DASH-05 | Phase 2 | Complete |
| CMD-01 | Phase 2 | Complete |
| CMD-02 | Phase 2 | Complete |
| CMD-03 | Phase 2 | Complete |
| CMD-04 | Phase 2 | Complete |
| NEWS-01 | Phase 1 | Complete |
| NEWS-02 | Phase 1 | Complete |
| NEWS-03 | Phase 1 | Complete |
| NEWS-04 | Phase 1 | Complete |
| CAL-01 | Phase 3 | Complete |
| CAL-02 | Phase 3 | Complete |
| CAL-03 | Phase 3 | Complete |
| CAL-04 | Phase 3 | Complete |
| CAL-05 | Phase 3 | Complete |
| ALRT-01 | Phase 4 | Complete |
| ALRT-02 | Phase 4 | Complete |
| ALRT-03 | Phase 4 | Complete |
| ALRT-04 | Phase 4 | Complete |

**Coverage:**
- v1 requirements: 22 total
- Mapped to phases: 22
- Unmapped: 0 ✓

---
*Requirements defined: 2026-02-28*
*Last updated: 2026-02-28 after roadmap creation*
